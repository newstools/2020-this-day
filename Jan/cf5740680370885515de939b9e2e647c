Huge crowds have packed the streets of the Iranian capital Tehran for the funeral of Iranian military commander Qasem Soleimani. Soleimani was assassinated in a US drone strike in Iraq on Friday on the orders of President Donald Trump. Iran’s Supreme Leader Ayatollah Khamenei led prayers and at one point was seen weeping. Iran has vowed “severe revenge” for the death of Soleimani and on Sunday pulled back from the 2015 nuclear accord. Soleimani, 62, headed Iran’s elite Quds Force, and was tasked with protecting and boosting Iran’s influence in the Middle East He supported Syria’s President Bashar al-Assad in the country’s civil conflict, aided the Shia militant group Hezbollah in Lebanon, and guided Iraqi militia groups against the Islamic State group. Soleimani was hailed as a national hero in Iran and widely considered the second most powerful man in the country behind Supreme Leader Khamenei. The US saw him as a terrorist, and President Trump said Soleimani was plotting “imminent” attacks on US diplomats and military personnel. State television showed huge crowds in Tehran for the event. It put the number who turned out as “millions” although this is yet to be verified. Some people cried, while others clutched pictures of the late commander. Mourners passed Soleimani’s coffin over their heads and “death to America” chants were heard. His daughter Zeinab Soleimani warned the US that it faced a “dark day”. “Crazy Trump, don’t think that everything is over with my father’s martyrdom,” she said. Following Monday’s funeral, the general’s remains were taken to Qom, one of the centres of Shia Islam, for a ceremony ahead of a burial in his hometown of Kerman on Tuesday. On Sunday Iran declared it would no longer abide by any of the restrictions imposed by the 2015 nuclear deal. The deal limited Iranian nuclear capacities in exchange for the lifting of economic sanctions. Three European parties to the deal – Germany, France and the UK – urged Iran to abide by its terms. Also on Sunday, Iraqi MPs passed a non-binding resolution calling for foreign troops to leave. US forces had been invited back to Iraq in 2014 to help defeat the Islamic State group, and there are about 5,000 in the country. The new head of Iran’s Quds force has vowed to expel the US from the Middle East. Meanwhile, BBC security correspondent Frank Gardner says an Iranian official told him he backed a claim by Iraq’s PM that Soleimani was carrying an Iranian response to a Saudi peace overture. Following warnings from Iran, Mr Trump said that the US would respond in the event of retaliation for Soleimani’s death, “perhaps in a disproportionate manner”. He repeated a threat to target Iranian cultural sites, saying the US would “strike very fast and very hard” if Tehran attacked Americans or US assets. President Trump also threatened severe sanctions against Iraq if US troops left. “We have a very extraordinarily expensive airbase that’s there. It cost billions of dollars to build. We’re not leaving unless they pay us back for it,” he told reporters. The president on Monday also responded to Iran’s decision to no longer abide by the restrictions of the international nuclear deal, tweeting: “Iran will never have a nuclear weapon!” Other world leaders are urging restraint. Nato ambassadors are to meet on Monday while German Chancellor Angela Merkel will travel to Russia later this week for talks with President Vladimir Putin. Markets have remained turbulent. Brent crude oil topped $70 (£53) a barrel on Monday for the first time since September. The BBC’s Persian service has been seeking the views of Iranians on Soleimani’s killing. “I believe Soleimani did not deserve such a fate. He did a lot for Iran, to protect this country. Our enemies have been attacking us for the past four decades and he tried to save the country,” – Paniz (f)